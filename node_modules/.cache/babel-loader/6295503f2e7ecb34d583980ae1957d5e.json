{"ast":null,"code":"import { _getUsers, _getQuestions, _saveQuestionAnswer, _saveQuestion } from \"../utils/_DATA.js\";\nimport { receiveUsers } from \"./users\";\nimport { receiveQuestions } from \"./questions\";\nimport { setAuthedUser } from \"./authedUser\";\nimport { showLoading, hideLoading } from \"react-redux-loading\";\nexport const ADD_QUESTION_ANSWER = \"ADD_QUESTION_ANSWER\";\nexport const ADD_QUESTION = \"ADD_QUESTION\"; //TODO change Auth to handle log in and log out\n// const AUTHED_ID = \"sarahedo\";\n\nexport function handleInitialData(authedID) {\n  return dispatch => {\n    dispatch(showLoading());\n    return Promise.all([_getUsers(), _getQuestions()]).then(([users, questions]) => {\n      dispatch(receiveUsers(users));\n      dispatch(receiveQuestions(questions));\n      dispatch(setAuthedUser(authedID));\n      dispatch(hideLoading());\n    });\n  };\n}\n\nfunction addQuestionAnswer({\n  qid,\n  authedUser,\n  answer\n}) {\n  return {\n    type: ADD_QUESTION_ANSWER,\n    qid,\n    authedUser,\n    answer\n  };\n}\n\nexport function handleAddQuestionAnswer(info) {\n  return dispatch => {\n    dispatch(showLoading());\n    return _saveQuestionAnswer(info).then(() => {\n      dispatch(addQuestionAnswer(info));\n    }).then(() => dispatch(hideLoading())).catch(e => {\n      console.warn(\"Error in handleAddQuestionAnswer: \", e);\n      alert(\"The was an error saving your answer. Try again.\");\n    });\n  };\n}\n\nfunction addQuestion(question) {\n  return {\n    type: ADD_QUESTION,\n    question\n  };\n}\n\nexport function handleAddQuestion(question) {\n  return dispatch => {\n    dispatch(showLoading());\n    return _saveQuestion(question).then(formattedQuestion => {\n      dispatch(addQuestion(formattedQuestion));\n    }).then(() => dispatch(hideLoading())).catch(e => {\n      console.warn(\"Error in handleAddQuestion: \", e);\n      alert(\"The was an error creating your question. Try again.\");\n    });\n  };\n}","map":{"version":3,"sources":["/Users/brunonovarini/project-would-you-rather/src/actions/shared.js"],"names":["_getUsers","_getQuestions","_saveQuestionAnswer","_saveQuestion","receiveUsers","receiveQuestions","setAuthedUser","showLoading","hideLoading","ADD_QUESTION_ANSWER","ADD_QUESTION","handleInitialData","authedID","dispatch","Promise","all","then","users","questions","addQuestionAnswer","qid","authedUser","answer","type","handleAddQuestionAnswer","info","catch","e","console","warn","alert","addQuestion","question","handleAddQuestion","formattedQuestion"],"mappings":"AAAA,SACEA,SADF,EAEEC,aAFF,EAGEC,mBAHF,EAIEC,aAJF,QAKO,mBALP;AAMA,SAASC,YAAT,QAA6B,SAA7B;AACA,SAASC,gBAAT,QAAiC,aAAjC;AACA,SAASC,aAAT,QAA8B,cAA9B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,qBAAzC;AAEA,OAAO,MAAMC,mBAAmB,GAAG,qBAA5B;AACP,OAAO,MAAMC,YAAY,GAAG,cAArB,C,CAEP;AACA;;AAEA,OAAO,SAASC,iBAAT,CAA2BC,QAA3B,EAAqC;AAC1C,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACN,WAAW,EAAZ,CAAR;AACA,WAAOO,OAAO,CAACC,GAAR,CAAY,CAACf,SAAS,EAAV,EAAcC,aAAa,EAA3B,CAAZ,EAA4Ce,IAA5C,CACL,CAAC,CAACC,KAAD,EAAQC,SAAR,CAAD,KAAwB;AACtBL,MAAAA,QAAQ,CAACT,YAAY,CAACa,KAAD,CAAb,CAAR;AACAJ,MAAAA,QAAQ,CAACR,gBAAgB,CAACa,SAAD,CAAjB,CAAR;AACAL,MAAAA,QAAQ,CAACP,aAAa,CAACM,QAAD,CAAd,CAAR;AACAC,MAAAA,QAAQ,CAACL,WAAW,EAAZ,CAAR;AACD,KANI,CAAP;AAQD,GAVD;AAWD;;AAED,SAASW,iBAAT,CAA2B;AAAEC,EAAAA,GAAF;AAAOC,EAAAA,UAAP;AAAmBC,EAAAA;AAAnB,CAA3B,EAAwD;AACtD,SAAO;AACLC,IAAAA,IAAI,EAAEd,mBADD;AAELW,IAAAA,GAFK;AAGLC,IAAAA,UAHK;AAILC,IAAAA;AAJK,GAAP;AAMD;;AAED,OAAO,SAASE,uBAAT,CAAiCC,IAAjC,EAAuC;AAC5C,SAAQZ,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACN,WAAW,EAAZ,CAAR;AAEA,WAAOL,mBAAmB,CAACuB,IAAD,CAAnB,CACJT,IADI,CACC,MAAM;AACVH,MAAAA,QAAQ,CAACM,iBAAiB,CAACM,IAAD,CAAlB,CAAR;AACD,KAHI,EAIJT,IAJI,CAIC,MAAMH,QAAQ,CAACL,WAAW,EAAZ,CAJf,EAKJkB,KALI,CAKGC,CAAD,IAAO;AACZC,MAAAA,OAAO,CAACC,IAAR,CAAa,oCAAb,EAAmDF,CAAnD;AACAG,MAAAA,KAAK,CAAC,iDAAD,CAAL;AACD,KARI,CAAP;AASD,GAZD;AAaD;;AAED,SAASC,WAAT,CAAqBC,QAArB,EAA+B;AAC7B,SAAO;AACLT,IAAAA,IAAI,EAAEb,YADD;AAELsB,IAAAA;AAFK,GAAP;AAID;;AAED,OAAO,SAASC,iBAAT,CAA2BD,QAA3B,EAAqC;AAC1C,SAAQnB,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACN,WAAW,EAAZ,CAAR;AAEA,WAAOJ,aAAa,CAAC6B,QAAD,CAAb,CACJhB,IADI,CACEkB,iBAAD,IAAuB;AAC3BrB,MAAAA,QAAQ,CAACkB,WAAW,CAACG,iBAAD,CAAZ,CAAR;AACD,KAHI,EAIJlB,IAJI,CAIC,MAAMH,QAAQ,CAACL,WAAW,EAAZ,CAJf,EAKJkB,KALI,CAKGC,CAAD,IAAO;AACZC,MAAAA,OAAO,CAACC,IAAR,CAAa,8BAAb,EAA6CF,CAA7C;AACAG,MAAAA,KAAK,CAAC,qDAAD,CAAL;AACD,KARI,CAAP;AASD,GAZD;AAaD","sourcesContent":["import {\n  _getUsers,\n  _getQuestions,\n  _saveQuestionAnswer,\n  _saveQuestion,\n} from \"../utils/_DATA.js\";\nimport { receiveUsers } from \"./users\";\nimport { receiveQuestions } from \"./questions\";\nimport { setAuthedUser } from \"./authedUser\";\nimport { showLoading, hideLoading } from \"react-redux-loading\";\n\nexport const ADD_QUESTION_ANSWER = \"ADD_QUESTION_ANSWER\";\nexport const ADD_QUESTION = \"ADD_QUESTION\";\n\n//TODO change Auth to handle log in and log out\n// const AUTHED_ID = \"sarahedo\";\n\nexport function handleInitialData(authedID) {\n  return (dispatch) => {\n    dispatch(showLoading());\n    return Promise.all([_getUsers(), _getQuestions()]).then(\n      ([users, questions]) => {\n        dispatch(receiveUsers(users));\n        dispatch(receiveQuestions(questions));\n        dispatch(setAuthedUser(authedID));\n        dispatch(hideLoading());\n      }\n    );\n  };\n}\n\nfunction addQuestionAnswer({ qid, authedUser, answer }) {\n  return {\n    type: ADD_QUESTION_ANSWER,\n    qid,\n    authedUser,\n    answer,\n  };\n}\n\nexport function handleAddQuestionAnswer(info) {\n  return (dispatch) => {\n    dispatch(showLoading());\n\n    return _saveQuestionAnswer(info)\n      .then(() => {\n        dispatch(addQuestionAnswer(info));\n      })\n      .then(() => dispatch(hideLoading()))\n      .catch((e) => {\n        console.warn(\"Error in handleAddQuestionAnswer: \", e);\n        alert(\"The was an error saving your answer. Try again.\");\n      });\n  };\n}\n\nfunction addQuestion(question) {\n  return {\n    type: ADD_QUESTION,\n    question,\n  };\n}\n\nexport function handleAddQuestion(question) {\n  return (dispatch) => {\n    dispatch(showLoading());\n\n    return _saveQuestion(question)\n      .then((formattedQuestion) => {\n        dispatch(addQuestion(formattedQuestion));\n      })\n      .then(() => dispatch(hideLoading()))\n      .catch((e) => {\n        console.warn(\"Error in handleAddQuestion: \", e);\n        alert(\"The was an error creating your question. Try again.\");\n      });\n  };\n}\n"]},"metadata":{},"sourceType":"module"}