let users = {
  sarahedo: {
    id: "sarahedo",
    name: "Sarah Edo",
    avatarURL:
      "data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNTEyIDUxMiIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Im0yNjEuNjE5IDE2LjMxYy0zNS42MzItMTAuOTEzLTk0LjM1Ljc1My0xMjIuODc4IDQ0LjcxNy0yNC41NTUgMzcuODQxLTExNS44ODQgMTgxLjczNSA4OS4zNTggNDEwLjkxNSA4OS44MzMtMzMuOTA4IDIzNS4yNTQtMTI4LjIzMiAxODguODcyLTM0My43NzEtNS4wNjQtNTcuMzg4LTUyLjMxMi0xNDMuNDM4LTE1NS4zNTItMTExLjg2MXoiIGZpbGw9IiMyNDA3MDMiLz48cGF0aCBkPSJtMjEwLjA2NiAzMDMuOTI1aDEwNy44NjZ2MTM0LjExaC0xMDcuODY2eiIgZmlsbD0iI2UwOWY2NyIvPjxnPjxwYXRoIGQ9Im0yMTAuMDY2IDMwMy45MjV2NDkuNjA5YzEzLjU5MyAxNC44NSAzNy41MTIgMzMuNjIzIDY4LjY0MSAyOC41MjQgMTYuOTQxLTIuNzc1IDI5LjcyLTkuNzMyIDM5LjIyNS0xNy43MDh2LTYwLjQyNXoiIGZpbGw9IiNjZThhNTciLz48L2c+PHBhdGggZD0ibTE2Mi44NTkgMjA3Ljg3My04LjczMS0yOS4xOTJzLTE1LjM2My00LjQ1Ny0yMy40NjUgMTIuODEzIDEzLjEgNTIuNzU1IDMxLjM5IDU1LjczNmM1LjA3LTEzLjUwOC44MDYtMzkuMzU3LjgwNi0zOS4zNTd6IiBmaWxsPSIjZTA5ZjY3Ii8+PHBhdGggZD0ibTM3NS4yOSAyMDcuOTUyYy4wMzgtMS4yMTkuMDU5LTIuNDM5LjA1OS0zLjY1OSAwLTc1LjgwOSAyMS4xNjctMTYxLjM0LTEwNy42LTE2Mi41OTYtLjU5Mi0uMDEyLTIuODc3LS4wMjktMi44ODMtLjAyOXMtMi4yOTEuMDE3LTIuODgzLjAyOWMtMTI4Ljc2NyAxLjI1Ny0xMDcuNiA4Ni43ODgtMTA3LjYgMTYyLjU5NiAwIDEuMjIuMDIgMi40MzkuMDU4IDMuNjU5czkuNjc0IDU0LjA3NyAxNy42NDkgNjguMTgyYzcuOTc1IDE0LjEwNCA0NS40MDYgODAuOTAzIDkwLjE4NyA4MC45MDMuMDQxLS4wNDMgNS4yMTQtLjA0NiA1LjI1OCAwIDQ0Ljc4MSAwIDgzLjg2LTY5Ljk2NyA5MS44MzUtODQuMDcxczE2LTY1LjAxMyAxNi02NS4wMTNoLS4wOHoiIGZpbGw9IiNlMDlmNjciLz48cGF0aCBkPSJtNDM0Ljg5OCA0NTQuNjE4Yy0yLjA2MS01MS4zNDYtNDEuNTcyLTYzLjIwNi02NS4yOTctNjUuNjgxLTEwLjI5NC0xLjA3NC01Mi4yMzUtLjM4Mi01Mi4yMzUtLjM4Mi04Ljg2NSAxMy44NS0yMS45OTQgMjAuMjAyLTUzLjkzIDIwLjgxOS0zMS45MzYtLjYxNy00NC44NTctOC4wOTEtNTQuNTQ4LTIwLjgxOSAwIDAtNDAuMTk3LS42OTItNTAuNDkxLjM4Mi0yMy43MjQgMi40NzYtNjMuMjM2IDE0LjMzNS02NS4yOTcgNjUuNjgxLTEuNzczIDEyLjgwNSAwIDMxLjA5NyAwIDMxLjA5N3M1Ny43NDggMTcuNjc0IDE2Ni44OTIgMTguMjY0Yy44MTIuMDEzIDcuMjAxLjAxMyA4LjAxMyAwIDEwOS4xNDUtLjU5IDE2Ni44OTItMTguMjY0IDE2Ni44OTItMTguMjY0czEuNzc0LTE4LjI5Mi4wMDEtMzEuMDk3eiIgZmlsbD0iIzE1YWZiZiIvPjxnIGZpbGw9IiMwOTQ0NDciPjxwYXRoIGQ9Im0yMTAuMjExIDM3NC4wMTlzLTkuMDcgMjkuMiA1Mi4yMDYgMzQuNzNjLTEuMzI3IDkuMDctOC42MjcgMzcuODI3LTguNjI3IDM3LjgyNy0xMS45NDYtMS45OTEtMzcuMTY0LTEwLjM5Ny01MS4zMjEtMjguMDk0cy0xMC42MTgtNDAuNDgxIDcuNzQyLTQ0LjQ2M3oiLz48cGF0aCBkPSJtMzE3Ljg4MSAzNzQuMDE5czkuMDcgMjkuMi01Mi4yMDYgMzQuNzNjMS4zMjcgOS4wNyA4LjYyNyAzNy44MjcgOC42MjcgMzcuODI3IDExLjk0Ni0xLjk5MSAzNy4xNjQtMTAuMzk3IDUxLjMyMS0yOC4wOTQgMTQuMTU4LTE3LjY5NiAxMC42MTktNDAuNDgxLTcuNzQyLTQ0LjQ2M3oiLz48L2c+PHBhdGggZD0ibTM4Mi44MzcgMTc4LjMxNmMwLTM2Ljc0NiAxMC42NzMtMTQ4LjY1OS0xMTkuNjU4LTE0OC42NTlzLTExNy45NiAxMzYuMDYzLTEwOS4zNTEgMTQ4Ljk0N2MwIDAgNjAuMDEzLTQ3LjcwNSA3NS4xODEtMTEzLjE4NSA4LjgwMSA0Mi43NDUgODMuMjg4IDExNy43MTEgMTUzLjgyOCAxMTIuODk3eiIgZmlsbD0iIzI0MDcwMyIvPjxwYXRoIGQ9Im0zNjcuMTcxIDIwNy44NzMgOC43MzEtMjkuMTkyczE1LjM2My00LjQ1NyAyMy40NjUgMTIuODEzLTEzLjEgNTIuNzU1LTMxLjM5IDU1LjczNmMtNS4wNzEtMTMuNTA4LS44MDYtMzkuMzU3LS44MDYtMzkuMzU3eiIgZmlsbD0iI2UwOWY2NyIvPjwvc3ZnPg==",
    answers: {
      "8xf0y6ziyjabvozdd253nd": "optionOne",
      "6ni6ok3ym7mf1p33lnez": "optionTwo",
      am8ehyc8byjqgar0jgpub9: "optionTwo",
      loxhs1bqm25b708cmbf3g: "optionTwo",
    },
    questions: ["8xf0y6ziyjabvozdd253nd", "am8ehyc8byjqgar0jgpub9"],
  },
  tylermcginnis: {
    id: "tylermcginnis",
    name: "Tyler McGinnis",
    avatarURL:
      "data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNTEyIDUxMiIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnIGZpbGw9IiNmOWQ3YWEiPjxwYXRoIGQ9Im0zNjAuMTMzIDE5My40MiA4LjkzLTI4LjU2OXMxNS43MTMtNC4zNjIgMjQgMTIuNTQtMTMuMzk5IDUxLjYzLTMyLjEwNiA1NC41NDhjLTUuMTg2LTEzLjIyMS0uODI0LTM4LjUxOS0uODI0LTM4LjUxOXoiLz48cGF0aCBkPSJtMTUxLjE2MSAxOTMuNDItOC45My0yOC41NjlzLTE1LjcxMy00LjM2Mi0yNCAxMi41NCAxMy4zOTkgNTEuNjMgMzIuMTA2IDU0LjU0OGM1LjE4NS0xMy4yMjEuODI0LTM4LjUxOS44MjQtMzguNTE5eiIvPjxwYXRoIGQ9Im0xOTIuOTM3IDI4NC44NWgxMjYuNDQ1djEzMS4yNWgtMTI2LjQ0NXoiLz48L2c+PGc+PHBhdGggZD0ibTE5Mi4yNzIgMjg0Ljg1djIxLjM5N3MyNC43NzIgNTYuNTUxIDc0LjczOCA1Ni41NTFjMjMuOTgxIDAgNDAuNzQyLTkuNDE5IDUxLjcwNy0xOS4yMTR2LTU4LjczNHoiIGZpbGw9IiNlOGFjNmIiLz48L2c+PHBhdGggZD0ibTM2OC40MzcgMTkzLjQ5OGMuMDM5LTEuMTkzLjA2LTIuMzg3LjA2LTMuNTgxIDAtNzQuMTkyIDIxLjY1LTE1Ny44OTktMTEwLjA1NC0xNTkuMTI5LS42MDUtLjAxMi0yLjk0Mi0uMDI5LTIuOTQ4LS4wMjlzLTIuMzQzLjAxNy0yLjk0OS4wMjljLTEzMS43MDQgMS4yMy0xMTAuMDU0IDg0LjkzNy0xMTAuMDU0IDE1OS4xMjkgMCAxLjE5NC4wMjEgMi4zODcuMDYgMy41ODFzLS4xMzIgNTUuMjE0IDguMDI0IDY5LjAxOGM4LjE1NyAxMy44MDMgNTYuNDY5IDc2Ljg4OCAxMDIuMjcxIDc2Ljg4OC4wNDItLjA0MiA1LjMzMy0uMDQ1IDUuMzc4IDAgNDUuODAzIDAgOTQuMTE1LTYzLjA4NCAxMDIuMjcxLTc2Ljg4OCA4LjE1Ny0xMy44MDQgOC4wMjQtNjkuMDE4IDguMDI0LTY5LjAxOHoiIGZpbGw9IiNmOWQ3YWEiLz48cGF0aCBkPSJtNDUzLjExMiA0NTAuNTIzYy0yLjM3Ny01OS4yMjItNDcuOTQ5LTcyLjktNzUuMzEyLTc1Ljc1Ni0xMS44NzMtMS4yMzktNjAuMjQ3LS40NC02MC4yNDctLjQ0LTEuMTU4IDE5LjgyNi0yNC43MTggMzguODEzLTYxLjU1MyAzOS41MjUtMzYuODM1LS43MTItNjMuNTY0LTI0LjE3Ny02My41NjQtMzkuNTI1IDAgMC00Ni4zNjItLjc5OS01OC4yMzUuNDQtMjcuMzYzIDIuODU1LTcyLjkzNiAxNi41MzQtNzUuMzEzIDc1Ljc1Ni0yLjA0NSAxNC43NjkgMCAzNS44NjcgMCAzNS44NjdzNjYuNjA2IDIwLjM4NSAxOTIuNDkxIDIxLjA2NmMuOTM3LjAxNCA4LjMwNS4wMTQgOS4yNDIgMCAxMjUuODg2LS42OCAxOTIuNDkxLTIxLjA2NiAxOTIuNDkxLTIxLjA2NnMyLjA0NS0yMS4wOTggMC0zNS44Njd6IiBmaWxsPSIjMTIyNzNmIi8+PHBhdGggZD0ibTEzMS42OTggMTY1LjE5NmM1LjUzNy0xLjg2OCAxNC4wMDgtMS41NiAxNi44NTYgMTkuODg1IDcuMDA4LTE0LjE2MiA2LjU5LTY0LjM1NyAxNC41MzgtODguMTk5IDYuMjc0LTE4LjgyMyAyOS44NDUtNDguOTQgNTUuMjE0LTQzLjkyIDE0Ljk3NiAyLjk2MyAxMi45NjUgMTguODIzIDM3Ljg1NCAxOC44MjNzMjguNjU0LTE5LjE0MyA0NC45NjctMTguOTgzIDQyLjY2NSAxNS4yMTggNDUuMTc1IDQ5LjA5OSAxMi4xMTYgODMuMTggMTIuMTE2IDgzLjE4LTEuNjE2LTI0LjU4NCAxOC4yMzItMjAuNzM2YzQuNzg5LTIyLjUwNCAxNC43MzItOTEuMDQtMTQuNjYxLTEyMy45MzItMjYuMzU0LTI5LjQ4OS01Ni42ODItMzUuMTM2LTEwNS44MjktMzUuMTM2cy0xMDIuMDQ4IDEwLjQzLTEyMS41MTYgNjUuMjUzYy0xMy41OSAzOC4yNzMtMi45NDYgOTQuNjY2LTIuOTQ2IDk0LjY2NnoiIGZpbGw9IiMyNDA3MDMiLz48cGF0aCBkPSJtMTQ0LjAyMSAyMjkuODQ2YzYuNTIyIDE1LjUyOCA4Ljc3OSAyOC41MTMgMjMuNjcyIDQ2Ljg5OSAxNS4wNTggMTguNTkgMzkuNzYyIDM1LjE3IDU1LjYzMiAzNi4zOTEgMjEuNzUxIDEuNjczIDMyLjE3LTkuMjAyIDMyLjE3LTkuMjAyczguNzU3IDkuOTY3IDI4LjQ4MiA5LjYyMWMyMy44NDItLjQxOCA0MS40MS0xNy4xNSA1My4xMjMtMzIuMjA4IDExLjcxMi0xNS4wNTggMjkuNzczLTQ5LjQwOSAyOS43NzMtNDkuNDA5cy0uMzI3IDM0LjExNC0xMy42NjkgNTIuOTEyYy0xMC4zNTEgMTQuNTg0LTIzLjkzMSA0Mi45MzQtOTguMjM3IDc2LjgxMi0yMi4zOTctOC42ODQtNzUuOTE0LTQ2Ljk1Ni05OC4zMjUtNzUuNTU3LTIyLjQxMi0yOC42MDEtMTIuNjIxLTU2LjI1OS0xMi42MjEtNTYuMjU5eiIgZmlsbD0iIzI0MDcwMyIvPjwvc3ZnPg==",
    answers: {
      vthrdm985a262al8qx3do: "optionOne",
      xj352vofupe1dqz9emx13r: "optionTwo",
    },
    questions: ["loxhs1bqm25b708cmbf3g", "vthrdm985a262al8qx3do"],
  },
  johndoe: {
    id: "johndoe",
    name: "John Doe",
    avatarURL:
      "data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNTEyIDUxMiIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Im0yMDYuMSAyOTEuMTA0aDEyMS41NzN2MTI2LjE5M2gtMTIxLjU3M3oiIGZpbGw9IiNmOWQ3YWEiLz48Zz48cGF0aCBkPSJtMjc3LjY5OCAzNTguNTk0YzIzLjE1OCAwIDM5LjM3Mi0xMC4zNjkgNDkuOTc0LTIxLjEwOXYtNDYuMzgxaC0xMjEuNTcydjIwLjU3M3MyMy41NTggNDYuOTE3IDcxLjU5OCA0Ni45MTd6IiBmaWxsPSIjZThhYzZiIi8+PC9nPjxwYXRoIGQ9Im0yNzMuNTc4IDQ2LjY1MmMtLjU4OS0uMDEyLTIuODYtLjAyOC0yLjg2Ni0uMDI4cy0yLjI3OC4wMTYtMi44NjcuMDI4Yy0xMjguMDI5IDEuMTk2LTEwNi45ODMgODIuNTY3LTEwNi45ODMgMTU0LjY4OSAwIDcyLjY1NyA3NS4yMjIgMTQ1LjMxNSAxMDkuODMyIDE0NS4zMTVoLjAzNmMzNC42MSAwIDEwOS44MzItNzIuNjU3IDEwOS44MzItMTQ1LjMxNSAwLTcyLjEyMiAyMS4wNDYtMTUzLjQ5NC0xMDYuOTg0LTE1NC42ODl6IiBmaWxsPSIjZjlkN2FhIi8+PHBhdGggZD0ibTQ1NC41MDkgNDUwLjAxM2MtMi4yNjMtNTYuMzcxLTQ1LjY0MS02OS4zOTEtNzEuNjg2LTcyLjEwOC03LjE1Mi0uNzQ3LTI4LjIxMS0uNzE2LTQyLjcxNi0uNTkzbC4wMTMtLjAzNGMtOC40MjIuMDcxLTE0LjY0NC4xNzQtMTQuNjQ0LjE3NC0xLjEwMiAxOC44NzEtMjMuNTI4IDI4Ljk5NC01OC41ODkgMjkuNjcxLTM1LjA2MS0uNjc4LTYwLjUwNC0xNS4wNjMtNjAuNTA0LTI5LjY3MSAwIDAtNS42NDEtLjA5Ny0xMy4zOTMtLjE2OGwuMDEzLjAzNGMtMTMuOTU0LS4xMjgtMzQuNzg0LS4xNzEtNDIuMDUyLjU4Ny0yNi4wNDYgMi43MTgtNjkuNDI0IDE1LjczNy03MS42ODcgNzIuMTA4LTEuOTQ3IDE0LjA1OCAwIDM0LjE0IDAgMzQuMTRzNjMuMzk5IDE5LjQwNCAxODMuMjI0IDIwLjA1MWMuODkyLjAxNCA3LjkwNi4wMTQgOC43OTcgMCAxMTkuODI1LS42NDcgMTgzLjIyNC0yMC4wNTEgMTgzLjIyNC0yMC4wNTFzMS45NDYtMjAuMDgyIDAtMzQuMTR6IiBmaWxsPSIjYjNlZGZmIi8+PHBhdGggZD0ibTI2Ni41NjcgNDIwLjU5LTE5Ljg2OSAyMi42NjkgMTAuMDE0IDYwLjk1NWgxOS43MDlsMTAuMDE0LTYwLjk1NXoiIGZpbGw9IiMwOTFlMjYiLz48cGF0aCBkPSJtMjgzLjYzOCA0MTMuNzU2YzAtMTAuNTY0LTkuOTQyLTE0LjIwNy0xNy4wNjgtMTQuMjIxbC0uMDAxLS4wMDFjLS4wMDcgMC0uMDE0LjAwMS0uMDIuMDAxcy0uMDE0LS4wMDEtLjAyLS4wMDFsLS4wMDEuMDAxYy03LjEyNi4wMTQtMTcuMDY4IDMuNjU2LTE3LjA2OCAxNC4yMjEgMCA5LjQ1NCA5LjI0IDE3LjUxOCAxNS40MTEgMTkuMTM3LjQyNi4xOTcgMi45MzEuMTk3IDMuMzU2IDAgNi4xNzItMS42MTkgMTUuNDExLTkuNjgzIDE1LjQxMS0xOS4xMzd6IiBmaWxsPSIjMDkxZTI2Ii8+PHBhdGggZD0ibTI2Ni41NjcgMzk5LjI4NCA2MS4xODYtNDAuNjkgMTMuNTM3IDE4Ljg1NS0zNy4zNjIgNTIuODkxeiIgZmlsbD0iI2QyZjdmZiIvPjxwYXRoIGQ9Im0yNjYuNTY3IDM5OS4yODQtNjAuMzg3LTQwLjY5LTE0LjMzNiAxOC44NTUgMzcuMzYxIDUyLjg5MXoiIGZpbGw9IiNkMmY3ZmYiLz48cGF0aCBkPSJtMTUzLjIzNCAxNzYuNDgyYzguODUgNS4yMTIgMTQuNzU0IDE3LjIwMyAxNi4wNTUgMjguMjY0IDYuNTc2IDMuNzg1IDYuNTc2LTI2LjM3OCA2LjU3Ni0zOS42NXM2LjAzMy0xOS4zMDQgMTAuODU5LTMwLjE2MyAxLjM1LTQ0LjY0MSAyNC4yMDItNTUuNSA0My4yMjIgMi40MTMgNTUuOTYxIDEwLjg1OSAyNy41NjMtMi40MTMgMzIuMjE2LTcuMjM5IDE5LjM5Ni0xNi44OTEgNDMuMzk0LTIuNDEzIDIxLjU4NSA0MS4wMjEgMTkuMTcyIDUwLjY3MyAxMS4xIDUzLjc2NSA3LjM2IDY1LjQ5MWM1LjE4OSAyLjIyNSA1LjM5Ny0xOS40NjMgMTIuMDg0LTE5LjgzMXMxNS41NDUtMjcuMDU4IDE1LjU0NS0zNy41NjYgMTQuMjc4LTI3LjM5OCA1LjkzMy00MS44NzdjLTguMzQ2LTE0LjQ3OCAyLjYxOC02Ni4zNTgtNTMuNDcxLTYyLjE4OC0xNC42MTEtMTMuMjcyLTE1LjItMjguMy0zNi45MTgtMjguMy0yMC41MTEgMC0zOC43NDkgMTMuMjcyLTQ1LjMxNSAxMy4yNzItNi41NjUgMC0zMC42OTYtMTQuNDc4LTQzLjk2Ny03LjIzOS0xMy4yNzIgNy4yMzktMjcuMTYyIDE1LjY4NS0zMS4wNzUgMTUuNjg1LTMuOTE0IDAtMzQuNjk4LTcuMjM5LTM4LjYxIDMxLjM2OS03LjUzMiAxMi4wNjUtMjcuOTE0IDcuMjM5LTIyLjU0OSA0OC4yNiA1LjM2NCA0MS4wMjIgMjQuMDQ3IDYwLjE3NSAyMi41NDggNjguMDkzeiIgZmlsbD0iIzI0MDcwMyIvPjxwYXRoIGQ9Im0zODYuOTE3IDE3Mi45MjctMjkuNTQtMy42OTNjLTIuNDE2LTguMjczLTEwLjA1Ny0xNC4zMzktMTkuMS0xNC4zMzloLTM2Ljc5OWMtMTAuNzU4IDAtMTkuNTI5IDguNTg0LTE5Ljg3NSAxOS4yNTktOS4yOC0yLjA2MS0xNi45NzgtMS4yMDYtMjEuNzktLjEzMy0uNDE1LTEwLjYxMy05LjE1NS0xOS4xMjYtMTkuODY4LTE5LjEyNmgtMzYuNzk5Yy05LjA0MyAwLTE2LjY4MyA2LjA2Ni0xOS4xIDE0LjMzOWwtMjkuNTQgMy42OTNjLTEuNjUzLjIwNi0yLjgyNSAxLjcxNC0yLjYxOSAzLjM2Ny4xOSAxLjUyNiAxLjQ5IDIuNjQzIDIuOTg5IDIuNjQzLjEyNCAwIC4yNTEtLjAwOC4zNzgtLjAyNGwyNy45ODQtMy40OTh2MjEuMTA1YzAgMTAuOTc3IDguOTMxIDE5LjkwNyAxOS45MDcgMTkuOTA3aDM2Ljc5OWMxMC45NzYgMCAxOS45MDctOC45MyAxOS45MDctMTkuOTA3di0xNi4zMDJjNC4wNzEtMS4wNjMgMTEuOTU1LTIuMzEzIDIxLjcxNy4xM3YxNi4xNzJjMCAxMC45NzcgOC45MzEgMTkuOTA3IDE5LjkwOCAxOS45MDdoMzYuNzk5YzEwLjk3NiAwIDE5LjkwNy04LjkzIDE5LjkwNy0xOS45MDd2LTIxLjEwNWwyNy45ODMgMy40OThjLjEyNy4wMTYuMjUzLjAyNC4zNzguMDI0IDEuNDk5IDAgMi43OTgtMS4xMTcgMi45ODktMi42NDMuMjEtMS42NTMtLjk2My0zLjE2MS0yLjYxNS0zLjM2N3ptLTEzNS41MDkgMjMuNTkzYzAgNi4zMi01LjE0MiAxMS40NjItMTEuNDYyIDExLjQ2MmgtMzYuNzk5Yy02LjMyIDAtMTEuNDYyLTUuMTQyLTExLjQ2Mi0xMS40NjJ2LTIxLjcxN2MwLTYuMzIgNS4xNDItMTEuNDYyIDExLjQ2Mi0xMS40NjJoMzYuNzk5YzYuMzIgMCAxMS40NjIgNS4xNDIgMTEuNDYyIDExLjQ2MnptOTguMzMxIDBjMCA2LjMyLTUuMTQyIDExLjQ2Mi0xMS40NjIgMTEuNDYyaC0zNi43OTljLTYuMzIgMC0xMS40NjItNS4xNDItMTEuNDYyLTExLjQ2MnYtMjEuNzE3YzAtNi4zMiA1LjE0Mi0xMS40NjIgMTEuNDYyLTExLjQ2MmgzNi43OTljNi4zMiAwIDExLjQ2MiA1LjE0MiAxMS40NjIgMTEuNDYyeiIvPjxnIGZpbGw9IiNmOWQ3YWEiPjxwYXRoIGQ9Im0zNzIuNDMgMjA0Ljc0NiA4LjY4MS0yNy43NzJzMTUuMjc1LTQuMjQgMjMuMzMxIDEyLjE5LTEzLjAyNSA1MC4xODktMzEuMjEgNTMuMDI2Yy01LjA0Mi0xMi44NTItLjgwMi0zNy40NDQtLjgwMi0zNy40NDR6Ii8+PHBhdGggZD0ibTE2OS4yODkgMjA0Ljc0Ni04LjY4MS0yNy43NzJzLTE1LjI3NS00LjI0LTIzLjMzMSAxMi4xOSAxMy4wMjUgNTAuMTg5IDMxLjIxIDUzLjAyNmM1LjA0Mi0xMi44NTIuODAyLTM3LjQ0NC44MDItMzcuNDQ0eiIvPjwvZz48L3N2Zz4=",
    answers: {
      xj352vofupe1dqz9emx13r: "optionOne",
      vthrdm985a262al8qx3do: "optionTwo",
      "6ni6ok3ym7mf1p33lnez": "optionTwo",
    },
    questions: ["6ni6ok3ym7mf1p33lnez", "xj352vofupe1dqz9emx13r"],
  },
};

let questions = {
  "8xf0y6ziyjabvozdd253nd": {
    id: "8xf0y6ziyjabvozdd253nd",
    author: "sarahedo",
    timestamp: 1467166872634,
    optionOne: {
      votes: ["sarahedo"],
      text: "have horrible short term memory",
    },
    optionTwo: {
      votes: [],
      text: "have horrible long term memory",
    },
  },
  "6ni6ok3ym7mf1p33lnez": {
    id: "6ni6ok3ym7mf1p33lnez",
    author: "johndoe",
    timestamp: 1468479767190,
    optionOne: {
      votes: [],
      text: "become a superhero",
    },
    optionTwo: {
      votes: ["johndoe", "sarahedo"],
      text: "become a supervillain",
    },
  },
  am8ehyc8byjqgar0jgpub9: {
    id: "am8ehyc8byjqgar0jgpub9",
    author: "sarahedo",
    timestamp: 1488579767190,
    optionOne: {
      votes: [],
      text: "be telekinetic",
    },
    optionTwo: {
      votes: ["sarahedo"],
      text: "be telepathic",
    },
  },
  loxhs1bqm25b708cmbf3g: {
    id: "loxhs1bqm25b708cmbf3g",
    author: "tylermcginnis",
    timestamp: 1482579767190,
    optionOne: {
      votes: [],
      text: "be a front-end developer",
    },
    optionTwo: {
      votes: ["sarahedo"],
      text: "be a back-end developer",
    },
  },
  vthrdm985a262al8qx3do: {
    id: "vthrdm985a262al8qx3do",
    author: "tylermcginnis",
    timestamp: 1489579767190,
    optionOne: {
      votes: ["tylermcginnis"],
      text: "find $50 yourself",
    },
    optionTwo: {
      votes: ["johndoe"],
      text: "have your best friend find $500",
    },
  },
  xj352vofupe1dqz9emx13r: {
    id: "xj352vofupe1dqz9emx13r",
    author: "johndoe",
    timestamp: 1493579767190,
    optionOne: {
      votes: ["johndoe"],
      text: "write JavaScript",
    },
    optionTwo: {
      votes: ["tylermcginnis"],
      text: "write Swift",
    },
  },
};

function generateUID() {
  return (
    Math.random().toString(36).substring(2, 15) +
    Math.random().toString(36).substring(2, 15)
  );
}

export function _getUsers() {
  return new Promise((res, rej) => {
    setTimeout(() => res({ ...users }), 1000);
  });
}

export function _getQuestions() {
  return new Promise((res, rej) => {
    setTimeout(() => res({ ...questions }), 1000);
  });
}

function formatQuestion({ optionOneText, optionTwoText, author }) {
  return {
    id: generateUID(),
    timestamp: Date.now(),
    author,
    optionOne: {
      votes: [],
      text: optionOneText,
    },
    optionTwo: {
      votes: [],
      text: optionTwoText,
    },
  };
}

export function _saveQuestion(question) {
  return new Promise((res, rej) => {
    const authedUser = question.author;
    const formattedQuestion = formatQuestion(question);
    setTimeout(() => {
      questions = {
        ...questions,
        [formattedQuestion.id]: formattedQuestion,
      };

      users = {
        ...users,
        [authedUser]: {
          ...users[authedUser],
          questions: users[authedUser].questions.concat([formattedQuestion.id]),
        },
      };

      res(formattedQuestion);
    }, 1000);
  });
}

export function _saveQuestionAnswer({ authedUser, qid, answer }) {
  return new Promise((res, rej) => {
    setTimeout(() => {
      users = {
        ...users,
        [authedUser]: {
          ...users[authedUser],
          answers: {
            ...users[authedUser].answers,
            [qid]: answer,
          },
        },
      };

      questions = {
        ...questions,
        [qid]: {
          ...questions[qid],
          [answer]: {
            ...questions[qid][answer],
            votes: questions[qid][answer].votes.concat([authedUser]),
          },
        },
      };

      res();
    }, 500);
  });
}
